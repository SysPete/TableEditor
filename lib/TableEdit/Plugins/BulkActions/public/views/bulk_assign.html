<div ng-if="!data.class" ng-include="'views/loading.html'" class="loading-box"></div>

<div ng-if="data.class">
	<!-- Page heading -->
	<div class="page-head" ng-init="view='form'" checkUser>
		<!-- Page heading -->
		<h1 class="title">
			<a href="#{{data.class}}/list" class="grey super-title">{{ data.class_label }}</a>
		</h1>
		<!-- Breadcrumb -->
	
		<div class="clearfix"></div>
	
	</div>
	<!-- Page heading ends -->
	
	<!-- Matter -->
	<div class="matter bulkImageUpload" id="details">
		<div class="container-fluid">
			<div class="row-fluid">
				<div class="alert-box span12"></div>
			</div>
			<h2><a ng-click="toggle_filters()">Filters</a></h2>
			<div class="filters" ng-if="show_filters">
				<div class="column-search" ng-repeat="column in data.column_list">
				<label>{{column.label}}</label>
								<div class="" ng-if="column.display_type"  ng-include="'views/column/'+column.display_type+'.html'"></div>
							</div>
				<br />
					<button class="btn btn-default" ng-click="reset()">Filter</button>
				
			</div>
			<div class="row-fluid">
				<h2>{{relation.name}} bulk assign</h2>
				<table class="table table-striped table-responsive">
					<tr ng-repeat="item in data.rows | orderBy:'file'" class="item" id="media-{{img.file}}">
							<td>
								{{item.name}}
							<ul>
								<li id="{{item.id}}{{related_item.id}}" ng-repeat="related_item in assigned[item.id]"><a href="#/{{related_item.class}}/edit/{{related_item.id}}">{{related_item.name}}</a> <a ng-click="remove()"><i class="glyphicon glyphicon-remove"></i></a></li>
							</ul>					
							</td>
						<td>
							<input name="{{item.id}}" class="form-control" type="text" auto-complete-bulk />
						</td>
					</tr>
				</table>
			</div>
			<div ng-if="data.pages > 1">
				<ul class="pagination" style="margin-top: 0px">
					<li ng-if="data.page > 1"><a ng-click="go_to_page(data.page - 1)">«</a></li>
					<li ng-class="{active: page==data.page}" ng-repeat="page in page_list"><a ng-click="go_to_page( page )">{{ page }}</a></li>
					<li ng-if="data.page < data.pages"><a ng-click="go_to_page( data.page + 1)">»</a></li>
				</ul>
			</div>
	
		</div>
	</div>
</div>
